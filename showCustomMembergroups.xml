<?xml version="1.0"?>
<!DOCTYPE modification SYSTEM "http://www.simplemachines.org/xml/modification">

<modification xmlns="http://www.simplemachines.org/xml/modification" xmlns:smf="http://www.simplemachines.org/">
	<id>Suki:showCustomMembergroups</id>
	<name>Show Custom Membergroups mod</name>
	<version>1.0</version>

	<file name="$sourcedir/Load.php">
		<operation>
			<search position="replace"><![CDATA[// Do we have any languages to validate this?]]></search>
			<add><![CDATA[/ showCustomMembergroups mod
	require_once($sourcedir .'/showCustomMembergroups.php')
	$user_info['additional_groups'] = getMemberGroups($user_info['groups'], $id_member);

	// Do we have any languages to validate this?]]></add>
		</operation>
		<operation>
			<search position="replace"><![CDATA[]]></search>
			<add><![CDATA[]]></add>
		</operation>
	</file>

	<file name="$themedir/Display.template.php">
		<operation>
			<search position="replace"><![CDATA[// Show avatars, images, etc.?]]></search>
			<add><![CDATA[// Show the additional membergroups
			if (!empty($message['member']['additional_groups']))
				foreach ($message['member']['additional_groups'] as $additional)
					echo '<li><span style="padding:5px 5px 0 0;">', $additional['image'] ,'</span><span ', !empty($additional['color']) ? 'style="color:'. $additional['color'] .';"' : '' ,'>', $additional['name'] ,'</span></li>';

			// Show avatars, images, etc.?]]></add>
		</operation>
	</file>
</modification>